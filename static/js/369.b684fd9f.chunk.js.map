{"version":3,"file":"static/js/369.b684fd9f.chunk.js","mappings":"mSAGO,SAASA,EAAT,GAAmD,IAA7BC,EAA4B,EAA5BA,YAAaC,EAAe,EAAfA,aAEtC,GAAoCC,EAAAA,EAAAA,UAAS,IAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAA8CF,EAAAA,EAAAA,WAAS,GAAvD,eAAOG,EAAP,KAAwBC,EAAxB,KA0BA,OACI,kBAAMC,OAAO,QAAQC,SApBN,SAACC,GAGhB,OAFAA,EAAMC,iBAEa,KAAhBV,GAAsBK,GACrBD,EAAcJ,QACdM,GAAmB,IAInBH,GAGAF,EAAaE,QACbG,GAAmB,IAHXK,MAAM,4EAOrB,EAGG,WACQ,kBAAOC,KAAK,OAAOC,SA1BV,SAACJ,GAClB,IAAQK,EAAUL,EAAMM,OAAhBD,MACRV,EAAcU,EACjB,EAuBsDA,MAAOX,KAEtD,mBAAQS,KAAK,SAAb,8CAGX,C,YC7Bc,SAASI,IAAe,IAAD,EAElC,GAA4Cd,EAAAA,EAAAA,UAAS,IAArD,eAAOe,EAAP,KAAuBC,EAAvB,KACA,GAAsChB,EAAAA,EAAAA,WAAS,GAA/C,eAAOiB,EAAP,KAAoBC,EAApB,KACA,GAA4BlB,EAAAA,EAAAA,UAAS,CAACmB,OAAQ,GAAIC,KAAM,EAAGC,KAAK,EAAOC,SAAS,IAAhF,eAAOH,EAAP,KAAeI,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAW,UAAGF,EAAaJ,IAAI,gBAApB,QAAgC,IAGjDO,EAAAA,EAAAA,YAAU,WACN,GAAmB,KAAhBD,GAAsBV,EAIrB,OAHAY,QAAQC,IAAIH,GACZT,GAAe,QACfK,EAAU,CAACH,KAAM,EAAGD,OAAQQ,EAAaN,KAAK,EAAMC,SAAS,GAGpE,GAAC,CAACK,EAAaV,KAEhBW,EAAAA,EAAAA,YAAU,WAEN,GAAGT,EAAOE,KAAyB,KAAlBF,EAAOA,OAAe,CAAC,IAGrBY,EAHoB,mCAGnC,qGACuBC,EAAAA,EAAAA,GAAeb,EAAOA,OAAQA,EAAOC,MAD5D,QACUa,EADV,QAGaC,QAAQC,OAES,IAAhBhB,EAAOC,MACfJ,EAAkBiB,EAAKC,SACvBX,GAAU,SAACa,GAAU,yBAAUA,GAAV,IAAgBf,KAAK,EAAOC,SAAS,GAAO,MAE/DN,GAAkB,SAACoB,GAAU,MAAM,GAAN,eAAWA,IAAX,OAAoBH,EAAKC,SAAS,IAC/DX,GAAU,SAACa,GAAU,yBAAUA,GAAV,IAAgBf,KAAK,EAAOC,SAAS,GAAO,KANjEb,MAAM,0FAAD,OAAqBU,EAAOA,OAA5B,iIAJb,2CAHmC,qDACnCY,GAeH,CACJ,GAAE,CAACZ,IAeJ,OAAO,iCACH,SAACtB,EAAD,CAAYC,YAAa6B,EAAa5B,aAdrB,SAACa,GAClB,GAAGA,IAAUO,EAAOA,OAChB,OAAQV,MAAM,+EAAD,OAAoBG,EAApB,uDAEbW,EAAU,CAACH,KAAM,EAAGD,OAAQP,EAAOS,KAAK,EAAMC,SAAS,IACvDI,EAAgB,CAACW,MAAOzB,GAE/B,IAS8B,IAA1BG,EAAeoB,SAAgB,SAACG,EAAA,EAAD,CAAWC,SAAUxB,EAAgByB,aAAY,qKAAmCrB,EAAOA,OAA1C,OAE/EA,EAAOG,SAAU,SAACmB,EAAA,EAAD,IAAyC,IAA1B1B,EAAeoB,SAAiB,SAACO,EAAA,EAAD,CAASC,UAT7D,WACd,OAAOpB,GAAU,SAACa,GAAW,OAAO,kBAAIA,GAAX,IAAiBhB,KAAMgB,EAAKhB,KAAO,EAAGC,KAAK,EAAMC,SAAS,GAAM,GAChG,MASJ,C","sources":["components/SearchForm/SearchForm.jsx","Pages/MoviesPage.jsx"],"sourcesContent":["import { useState } from \"react\"\n\n\nexport function SearchForm ({searchValue, searchSubmit}) {\n\n    const [inputValue, setInputValue] = useState('')\n    const [firstRenderForm, setFirstRenderForm] = useState(true)\n\n    const handelChange = (event) => {\n        const { value } = event.target\n        setInputValue(value)\n    }\n\n    const handelForm = (event) => {\n        event.preventDefault()\n\n        if(searchValue !== \"\" && firstRenderForm) {\n            setInputValue(searchValue)\n            setFirstRenderForm(false)\n            return\n        }\n        \n        if(!inputValue) {\n            return  alert('Введіть запит')\n        } else {\n            searchSubmit(inputValue)\n            setFirstRenderForm(false)\n        }\n\n\n    }\n\n    return (\n        <form action=\"query\" onSubmit={handelForm}>\n                <input type=\"text\" onChange={handelChange} value={inputValue}/>\n\n            <button type='submit'>Пошук</button>\n        </form>  \n    )\n}","import { useEffect, useState } from \"react\"\nimport { getSearchFilms } from \"../api/getFilms\"\n\n\nimport FilmsList from \"components/FilmsList/FilmsList\";\nimport { Loading } from \"components/Loading/Loading\";\nimport { AddMore } from \"components/AddMore/AddMore\";\nimport { SearchForm } from \"components/SearchForm/SearchForm\";\nimport { useSearchParams } from \"react-router-dom\";\n\nexport default function MoviesPage () {\n\n    const [searchfilmList, setSearchFilmList] = useState([])\n    const [firstRender, setFirstRender] = useState(true)\n    const [search, setSearch] = useState({search: \"\", page: 1, get: false, loading: false})\n    const [searchParams, setSearchParams] = useSearchParams()\n    const searchQuery = searchParams.get('query') ?? ''\n    \n\n    useEffect(() => {\n        if(searchQuery !== \"\" && firstRender) {\n            console.log(searchQuery)\n            setFirstRender(false)\n            setSearch({page: 1, search: searchQuery, get: true, loading: true})\n            return\n        }\n    },[searchQuery, firstRender])\n\n    useEffect(() => {\n        \n        if(search.get && search.search !== \"\") {\n            responceSearch()\n\n            async function responceSearch () {\n                const data = await getSearchFilms(search.search, search.page)\n\n                if(!data.results.length) {\n                    alert(`За вишим запитом ${search.search}  результати не знайдені`)\n                } else if(search.page === 1) {\n                  setSearchFilmList(data.results)\n                  setSearch((prev) => {return{...prev, get: false, loading: false}})\n                } else {\n                    setSearchFilmList((prev) => {return [...prev, ...data.results]})\n                    setSearch((prev) => {return{...prev, get: false, loading: false}})\n                }\n            }\n        }\n    }, [search])\n\n    const searchSubmit = (value) => {\n        if(value === search.search) {\n            return  alert(`Ви ввели запит \"${value}\" повторно`)\n        } else {\n            setSearch({page: 1, search: value, get: true, loading: true})\n            setSearchParams({query: value})\n        }\n    }\n\n    const addMoreFn = () => {\n        return setSearch((prev) => { return {...prev, page: prev.page + 1, get: true, loading: true}})\n    }\n\n    return <>\n        <SearchForm searchValue={searchQuery} searchSubmit={searchSubmit}/>\n\n        {searchfilmList.length !== 0 && <FilmsList filmData={searchfilmList} sectionTitle={`Результати пошуку за запитом \"${search.search}\"`}/>}\n\n        { search.loading ? <Loading /> : (searchfilmList.length !== 0 &&  <AddMore addMoreFn={addMoreFn}/>)}\n    </>\n}"],"names":["SearchForm","searchValue","searchSubmit","useState","inputValue","setInputValue","firstRenderForm","setFirstRenderForm","action","onSubmit","event","preventDefault","alert","type","onChange","value","target","MoviesPage","searchfilmList","setSearchFilmList","firstRender","setFirstRender","search","page","get","loading","setSearch","useSearchParams","searchParams","setSearchParams","searchQuery","useEffect","console","log","responceSearch","getSearchFilms","data","results","length","prev","query","FilmsList","filmData","sectionTitle","Loading","AddMore","addMoreFn"],"sourceRoot":""}